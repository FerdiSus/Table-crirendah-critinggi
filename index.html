<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <style>
      body{
        background-image: url(langit.jpg); background-size: cover; 
      }
    </style>
    <title>Tugas Pemdas Ferdi</title>
  </head>
  <body>
     <h1 style="padding-left: 510px; color: black; margin-top: 70px;"> Data nilai X_RPL </h1> 
 

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
    <div> 
      <table class="table table-striped table-hover container table-bordered border-dark " style="margin-top: 25px;">
         <thead class="table-dark">
           <tr>
             <th>No</th> 
             <th>Nama Siswa</th> 
             <th>Matematika</th> 
             <th>Fisika</th> 
             <th>Kimia</th> 
             <th>Rata-rata</th> 
           </tr>
         </thead>    
         <tbody id="data">
 
         </tbody>   
      </table>
      <button type="button" class="btn btn-primary" id="btnRerata" style="margin-left: 115px;">Generate Rerata</button>
      <button type="button" class="btn btn-success" id="btnJuara">Cari Juara</button>
      <button type="button" class="btn btn-warning" id="btnRendah">Cari Terendah</button>
    </div>
    <script>
      let students =[
          {
            id: 1,
            nama: "Sentana Dewi Pesisir",
            Matematika: 85,
            Fisika: 88,
            Kimia: 90
          },
          {
            id: 2,
            nama: "Muhammad Ardiyan Syahbani",
            Matematika: 80,
            Fisika: 79,
            Kimia: 87
          },
          {
            id: 3,
            nama: "Abraham Anderson",
            Matematika: 78,
            Fisika: 85,
            Kimia: 94
          },
          {
            id: 4,
            nama: "Muhammad Raya Al ba'i",
            Matematika: 96,
            Fisika: 88,
            Kimia: 92
          },
          {
            id: 5,
            nama: "Faris Susanto",
            Matematika: 95,
            Fisika: 85,
            Kimia: 80
          },
      ];

      let element = [];
      let totalRerata = [];

      students[0]
      students.map(function(student,key){
        student.rerata = ((student.Matematika + student.Fisika + student.Kimia)/3).toFixed(2);
        element += `
        <tr key="${student.id}">
            <td>${key+1}</td>
            <td>${student.nama}</td>
            <td>${student.Matematika}</td>
            <td>${student.Fisika}</td>
            <td>${student.Kimia}</td>
            <td><span class="rerata" style="display:none">${student.rerata}</span></td>
        </tr>
       `;  
        totalRerata.push(parseFloat(student.rerata));  
      });

      document.getElementById("data").innerHTML = element;

      document.getElementById("btnRerata").addEventListener("click", function(){
        console.log(document.getElementsByClassName("rerata"));
        for(let i=0; i<document.getElementsByClassName("rerata").length; i++){
         document.getElementsByClassName("rerata")[i].style.display = "block";
        }
      });

      document.getElementById("btnJuara").addEventListener("click", function(){
        for(let i=0; i<document.getElementsByClassName("rerata").length; i++){
         if(document.getElementsByClassName("rerata")[i].innerHTML == Math.max(...totalRerata)){
           document.getElementsByClassName("rerata")[i].parentElement.parentElement.style.backgroundColor ="lightgreen";
           document.getElementsByClassName("rerata")[i].parentElement.parentElement.style.fontWeight ="bold";
         }
        }
      });

      document.getElementById("btnRendah").addEventListener("click", function(){
        for(let i=0; i<document.getElementsByClassName("rerata").length; i++){
         if(document.getElementsByClassName("rerata")[i].innerHTML == Math.min(...totalRerata)){
           document.getElementsByClassName("rerata")[i].parentElement.parentElement.style.backgroundColor ="gold";
           document.getElementsByClassName("rerata")[i].parentElement.parentElement.style.fontWeight ="bolder";
         }
        }
      });

    </script>
  </body>
</html>